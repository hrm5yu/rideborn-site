# 画像最適化ガイド

## 🎯 推奨画像サイズ（アスペクト比保持）

### カード画像（ギャラリー用）
- **最大幅**: 600px（アスペクト比保持）
- **形式**: WebP
- **品質**: 80%
- **ファイルサイズ**: 50-100KB

### 記事画像（詳細ページ用）
- **最大幅**: 800px（アスペクト比保持）
- **形式**: WebP
- **品質**: 85%
- **ファイルサイズ**: 80-150KB

### ヒーロー画像（メインビジュアル用）
- **最大幅**: 1200px（アスペクト比保持）
- **形式**: WebP
- **品質**: 90%
- **ファイルサイズ**: 150-300KB

### サムネイル画像
- **最大幅**: 400px（アスペクト比保持）
- **形式**: WebP
- **品質**: 80%
- **ファイルサイズ**: 30-60KB

## 🛠️ 最適化方法

### 1. オンラインツール使用

#### TinyPNG
1. https://tinypng.com/ にアクセス
2. 画像をドラッグ&ドロップ
3. 最適化された画像をダウンロード

#### Squoosh
1. https://squoosh.app/ にアクセス
2. 画像をアップロード
3. 設定を調整（WebP形式、品質80-90%）
4. 最適化された画像をダウンロード

### 2. スクリプト使用

#### セットアップ
```bash
npm install
```

#### 使用方法

##### 基本的な最適化
```bash
# カード画像を最適化
npm run optimize-card

# 記事画像を最適化
npm run optimize-article

# ヒーロー画像を最適化
npm run optimize-hero

# カスタム設定で最適化
node scripts/optimize-images.js card ./images/original ./images/optimized
```

##### バッチ最適化
```bash
# 全タイプで一括最適化
npm run optimize-all

# バッチ最適化（カスタム設定）
npm run batch-optimize

# 特定のタイプのみ最適化
node scripts/batch-optimize.js ./images/original ./images/optimized card
```

##### インタラクティブGUI
```bash
# GUIツールを起動
npm run optimize-gui
```

## 📱 レスポンシブ対応

### 画像サイズの自動調整
- モバイル: 100vw（画面幅いっぱい）
- タブレット: 50vw（画面幅の半分）
- デスクトップ: 最大幅（600px, 800px, 1200px、アスペクト比保持）

### 遅延読み込み
- `loading="lazy"` で画像の遅延読み込み
- `decoding="async"` で非同期デコード

## 🎨 デザインガイドライン

### アスペクト比保持
- **元画像のアスペクト比を保持**: 画像の比率は変更されません
- **最大幅指定**: 指定した幅を超えないようにリサイズ
- **高さは自動調整**: 幅に合わせて高さが自動で調整されます

### 推奨アスペクト比（元画像）
- **カード**: 3:2（横長）推奨
- **記事**: 8:5（横長）推奨
- **ヒーロー**: 2:1（横長）推奨
- **サムネイル**: 1:1（正方形）推奨

### フォーカスポイント
- 重要な部分を中央に配置
- 顔や車の主要部分が切れないように注意

## 📊 パフォーマンス目標

### 読み込み速度
- **First Contentful Paint**: < 1.5秒
- **Largest Contentful Paint**: < 2.5秒
- **Cumulative Layout Shift**: < 0.1

### ファイルサイズ
- **カード画像**: < 100KB
- **記事画像**: < 150KB
- **ヒーロー画像**: < 300KB

## 🔧 トラブルシューティング

### 画像が重い場合
1. 解像度を下げる
2. 品質を下げる（80%以下）
3. WebP形式に変換
4. 不要なメタデータを削除

### 画像がぼやける場合
1. 品質を上げる（85%以上）
2. 解像度を上げる
3. シャープネスを調整

### アップロードエラー
1. ファイルサイズを確認（5MB以下）
2. 対応形式を確認（JPG, PNG, WebP）
3. 画像の破損を確認
